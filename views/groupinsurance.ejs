<%- include('partials/header.ejs'); -%>

<head>

    <meta charset="UTF-8">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.bundle.min.js"></script>
    <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css'>

    <style>
        
        .arrow {
          border: solid black;
          border-width: 0 3px 3px 0;
          display: inline-block;
          padding: 3px;
          
        }
        
        .down {
      transform: rotate(45deg);
      -webkit-transform: rotate(45deg);
    }
    </style>
        <script type="text/javascript">
            function selects() {
                var checkedButtons = document
                    .querySelectorAll(".checkedButtons");
                console.log(checkedButtons)
                for (var i = 0; i < checkedButtons.length; i++) {
                    checkedButtons[i].checked = true;
                }
            }
            function deSelect() {
                var checkedButtons = document.querySelectorAll(".checkedButtons");
                //   console.log(checkedButtons)
                for (var i = 0; i < checkedButtons.length; i++) {
                    checkedButtons[i].checked = false;
                }
            }

            // $(document).ready(function() {
            //  // on form submit
            // $("#form").on('submit', function() {
            //     // to each unchecked checkbox
            //     $(this + 'input[type=checkbox]:not(:checked)').each(function () {
            //         // set value 0 and check it
            //         $(this).attr('checked', true).val(0);
            //     });
            // })
            // var checkBoxValue = $('#checkBox').is(':checked')?$('#checkBox').val():false-->

            var x = document.querySelector("#checks");
            //  console.log("x= ",x);

            const months = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];


        </script>
    </head>




    <body>

        <div class="content-wrap">
            <div class="main">
                <div class="container-fluid">



                    <div class="row">
                        <div class="col-lg-8 p-r-0 title-margin-right">
                            <div class="page-header">
                                <div class="page-title">
                                    <h1>Group Insurance</h1>
                                </div>
                            </div>
                        </div>
                        <!-- /# column -->
                        <!-- <div class="col-lg-4 p-l-0 title-margin-left">
                            <div class="page-header">
                                <div class="page-title">

                                </div>
                            </div>
                        </div> -->
                        <!-- /# column -->
                    </div>
                    <!-- /# row -->

                    <section id="main-content">
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="card">
                                    <div class="bootstrap-data-table-panel">
                                        <div class="table-responsive">
                                            <form class="form-horizontal" action="\groupinsurance" method="post">

                                                <input type="button" class="btn btn-danger" style="float: right;" onclick='deSelect()'
                                                    value="Deselect All" />

                                                <input type="button" class="btn btn-success" style="float: right;" onclick='selects()'
                                                    value="Select All" />

                                                <table id="bootstrap-data-table-export"
                                                    class="table table-striped table-bordered">

                                                   <!-- Month of Group Insurance:
                                                    <input type="month" id="month" name="month"><br><br><br><br> -->

                                                    
                                                    <div class="row">
                                                        <div class="col-lg-6">
                            
                                                            <!-- <div class="form-group">
                                                                <label class="col-sm-5 control-label">Enter Group Insurance Amount</label>
                                                                <div class="col-sm-3">
                                                                    <input type="text" name="grpInsurance" class="form-control">
                                                                </div>
                                                            </div> -->
                                                        </div>
                                                    </div>

                        <br><br>
                                                    <thead>
                                                        <tr>
                                                            <th>Employee ID<p><i class="arrow down"
                                                                        style="float: right;"></i></th>
                                                            <th>Name <p><i class="arrow down" style="float: right;"></i>
                                                            </th>
                                                            <!-- <th>Group Insurance Details</th> -->
                                                            <!-- <th>Month</th>
                                                            <th>Year</th>-->
                                                            <th>Apply Group Insurance</th> 



                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <% for(var i=Employees.length-1; i>= 0 ; i-- ) { %>
                                                            <tr>
                                                                <td>
                                                                    <%= Employees[i].empID %>
                                                                </td>
                                                                <td>
                                                                    <%= Employees[i].empName %>
                                                                </td>
                                                                <!-- <td>
                                                                    <!-- <div class="form-group"> -->

                                                                        <!-- <div class="col-sm-20"> -->

                                                                            <!-- <input type="month" id="month" name="month"> 
                                                                                <select id="month" class="form-control" name="month" >
                                                                                    <option id=<%=i%>></option>
                                                                                    <option id="demo1"></option>

                                                                                </select>
                                                                                <script>
                                                                                    const d = new Date();
                                                                                    document.getElementById("<%=i%>").innerHTML = months[d.getMonth()];
                                                                                    document.getElementById("demo1").innerHTML = months[(d.getMonth() + 1) % 12];
                                                                                </script>
                                                                                <p></p>

                                                                                
                                                                        <!-- </div> -->
                                                                    <!-- </div> -->
                                                                <!-- </td> -->

                                                                <!-- <td> -->
                                                                    <!-- <div class="stat-content dib"> -->
                                                                        <!-- <div class="stat-text"> <b>Year</b></div> -->
                                                                        <!-- <div class="form-group"> -->






                                                                            <!-- <div class="col-sm-20">
                                                                                <select class="form-control"
                                                                                    name="year">
                                                                                    <option id=yr1></option>
                                                                               

                                                                                </select>
                                                                                <br> -->
                                                                              

                                                                                <!-- <script>

                                                                                    var p = new Date();
                                                                                    var q = p.getFullYear();
                                                                                    document.getElementById("yr1").innerHTML = q;
                                                                                    document.getElementById("yr2").innerHTML = q + 1;
                                                                                    document.getElementById("yr3").innerHTML = q + 2;

                                                                                </script>
                                                                            </div>
                                                                        </div>

                                                                    </div>
                                                                </td> --> 
                                                                <!-- <td> <input type="text" name="grpinsurance" value="0"><br></td> -->
                                                                <td> <input class="checkedButtons" type="checkbox"
                                                                        name=<%=Employees[i].empID%> id="check" value=
                                                                    <%=i%>><br>
                                                                </td>
                                                            </tr>
                                                            <% }%>
                                                    </tbody>


                                                </table>



                                        </div>

                                    </div>
                                </div>
                                <!-- /# card -->
                            </div>


                        </div>



                        <input class="btn btn-primary" style="float: right;" type="submit" value="Submit">

                        </form>

                </div>
                <br>
                <br><br><br>

                </section>
            </div>
        </div>
        </div>



        <script src="../assets/assets/js/lib/bootstrap.min.js"></script>
        <script src="../assets/assets/js/scripts.js"></script>
        <script src="../assets/assets/js/lib/data-table/datatables.min.js"></script>
        <script src="../assets/assets/js/lib/data-table/dataTables.buttons.min.js"></script>
        <script src="../assets/assets/js/lib/data-table/buttons.flash.min.js"></script>
        <script src="../assets/assets/js/lib/data-table/jszip.min.js"></script>
        <script src="../assets/assets/js/lib/data-table/pdfmake.min.js"></script>
        <script src="../assets/assets/js/lib/data-table/vfs_fonts.js"></script>
        <script src="../assets/assets/js/lib/data-table/buttons.html5.min.js"></script>
        <script src="../assets/assets/js/lib/data-table/buttons.print.min.js"></script>
        <script src="../assets/assets/js/lib/data-table/datatables-init.js"></script>


    </body>

    </html>